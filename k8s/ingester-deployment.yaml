---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: flows-ingester
  labels:
    app: flows-ingester
spec:
  replicas: 1
  selector:
    matchLabels:
      app: flows-ingester
  template:
    metadata:
      labels:
        app: flows-ingester
    spec:
      containers:
      - image: flows-ingester:0.0.1-hackz
        imagePullPolicy: IfNotPresent
        name: flows-ingester
        ports:
        - name: grpc
          containerPort: 9000
        - name: http
          containerPort: 8282
        env:
        - name: DP_LOG
          value: DEBUG
        - name: ELASTICSEARCH_URL
          value: http://elasticsearch-es-http:9200
        resources:
          limits:
            cpu: 100m
            memory: 256Mi
